(this["webpackJsonpreact-library"]=this["webpackJsonpreact-library"]||[]).push([[0],{14:function(e,t,o){},15:function(e,t,o){},16:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),s=o(8),r=o.n(s),l=(o(14),o(2)),i=o(1),c=o(3),u=o(4),m=o(6),b=o(5),h=(o(15),function(e){console.log("adding");var t=JSON.stringify(e);localStorage.setItem("books",t),console.log(localStorage.books)}),p=function(){if(void 0===localStorage.books&&h([]),void 0!==localStorage.books||localStorage.todos!==[]){var e=localStorage.getItem("books");return JSON.parse(e)}},d=function(e){Object(m.a)(o,e);var t=Object(b.a)(o);function o(){return Object(c.a)(this,o),t.apply(this,arguments)}return Object(u.a)(o,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"book-card"},n.a.createElement("div",{className:"book-detail"},this.props.book.title),n.a.createElement("div",{className:"book-detail"},this.props.book.author),n.a.createElement("div",{className:"book-detail"},this.props.book.pages+" pages"),n.a.createElement("div",{className:"book-card-tools"},"Read"===this.props.book.status?n.a.createElement("button",{className:"read",onClick:function(){return e.props.toogleStatus(e.props.book)}},"Read"):n.a.createElement("button",{className:"not-read",onClick:function(){return e.props.toogleStatus(e.props.book)}},"Not Read"),n.a.createElement("button",{className:"delete",onClick:function(){e.props.deleteBook(e.props.book)}},"Delete")))}}]),o}(n.a.Component),k=function(e){Object(m.a)(o,e);var t=Object(b.a)(o);function o(){return Object(c.a)(this,o),t.apply(this,arguments)}return Object(u.a)(o,[{key:"handleSubmit",value:function(e){console.log(this.props.book),this.props.submitForm(this.props.book),this.props.closeForm()}},{key:"setStatus",value:function(e){this.props.book.status=e.target.value,console.log(this.props.book)}},{key:"setTitle",value:function(e){this.props.book.title=e.target.value}},{key:"setAuthor",value:function(e){this.props.book.author=e.target.value}},{key:"setPages",value:function(e){this.props.book.pages=e.target.value}},{key:"render",value:function(){return n.a.createElement("div",{className:"form-popup",id:"myForm"},n.a.createElement("form",{action:"/action_page.php",className:"form-container",name:"myForm"},n.a.createElement("h1",null,"Add Book"),n.a.createElement("label",{htmlFor:"title"},n.a.createElement("b",null,"Title")),n.a.createElement("input",{type:"text",name:"title",required:!0,onChange:this.setTitle.bind(this)}),n.a.createElement("label",{htmlFor:"author"},n.a.createElement("b",null,"Author")),n.a.createElement("input",{type:"text",name:"author",required:!0,onChange:this.setAuthor.bind(this)}),n.a.createElement("label",{htmlFor:"pages"},n.a.createElement("b",null,"Pages")),n.a.createElement("input",{type:"number",name:"pages",required:!0,onChange:this.setPages.bind(this)}),n.a.createElement("div",{id:"radio",onChange:this.setStatus.bind(this)},n.a.createElement("b",null,"Have you read it ?"),n.a.createElement("label",{htmlFor:"yes"},n.a.createElement("input",{type:"radio",id:"yes",name:"read",value:"Read"}),"Yes"),n.a.createElement("label",{htmlFor:"no"},n.a.createElement("input",{type:"radio",id:"no",name:"read",value:"Not Read"}),"No")),n.a.createElement("button",{type:"button",className:"btn",onClick:this.handleSubmit.bind(this)},"Add Book"),n.a.createElement("button",{type:"button",className:"btn cancel",onClick:this.props.closeForm},"Close")))}}]),o}(n.a.Component);k.defaultProps={book:{title:"",author:"",pages:0,status:""}};var g=function(e){Object(m.a)(o,e);var t=Object(b.a)(o);function o(e){var a;return Object(c.a)(this,o),(a=t.call(this,e)).state={showForm:!1,books:[]},a.openForm=a.openForm.bind(Object(i.a)(a)),a.closeForm=a.closeForm.bind(Object(i.a)(a)),a.submitForm=a.submitForm.bind(Object(i.a)(a)),a.deleteBook=a.deleteBook.bind(Object(i.a)(a)),a.toogleStatus=a.toogleStatus.bind(Object(i.a)(a)),a}return Object(u.a)(o,[{key:"componentWillMount",value:function(){this.setState({books:p()})}},{key:"openForm",value:function(){this.setState({showForm:!0}),console.log(this.state.books)}},{key:"closeForm",value:function(){console.log("Trying...."),this.setState({showForm:!1}),console.log("Closed...")}},{key:"submitForm",value:function(e){var t=this;this.setState({books:[].concat(Object(l.a)(this.state.books),[e])},(function(){return console.log(t.state.books,h(t.state.books))})),console.log(this.state.books)}},{key:"deleteBook",value:function(e){for(var t,o=this,a=Object(l.a)(this.state.books),n=0;n<a.length;n++)if(a[n].name===e.name){t=n;break}a=[].concat(Object(l.a)(a.slice(0,t)),Object(l.a)(a.slice(t+1,a.length))),this.setState({books:a},(function(){return console.log(h(o.state.books))}))}},{key:"toogleStatus",value:function(e){for(var t,o=this,a=Object(l.a)(this.state.books),n=0;n<a.length;n++)if(a[n].title===e.title){t=n;break}console.log(a[t].status),console.log(a[t]),"Read"===a[t].status?a[t].status="Not Read":a[t].status="Read",this.setState({books:a},(function(){return console.log(h(o.state.books))}))}},{key:"render",value:function(){var e=this,t=this.state.books.map((function(t){return n.a.createElement(d,{key:t.title,book:t,deleteBook:e.deleteBook,toogleStatus:e.toogleStatus})}));return console.log(this.state.books),n.a.createElement("div",{className:"App"},n.a.createElement("header",{id:"heading-container"},n.a.createElement("h1",{id:"heading"},"Library"),n.a.createElement("p",{id:"heading-caption"},"Ultimate Book Repository")),n.a.createElement("main",null,n.a.createElement("div",{id:"container"},t)),n.a.createElement("button",{className:"open-button",onClick:this.openForm},"Add New Book"),this.state.showForm?n.a.createElement(k,{displayed:this.state.showForm,closeForm:this.closeForm,submitForm:this.submitForm}):null)}}]),o}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,o){e.exports=o(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.05238d2e.chunk.js.map